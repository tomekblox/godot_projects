[gd_scene load_steps=5 format=3 uid="uid://cidm2yjygg8gg"]

[ext_resource type="Texture2D" uid="uid://cs4o0x00ufdcc" path="res://resources/tiles.png" id="1_d52cm"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dyrx7"]
texture = ExtResource("1_d52cm")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_qs2a4"]
sources/0 = SubResource("TileSetAtlasSource_dyrx7")

[sub_resource type="GDScript" id="GDScript_qdtua"]
script/source = "extends TileMapLayer

var moisture = FastNoiseLite.new()
var temperature = FastNoiseLite.new()



# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	moisture.seed = randi()
	temperature.seed = randi()
	generate_chunk()#TODO add generating based on player postiton
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	
	pass
	
func generate_chunk():
	for x in range(100):
		for y in range(100):
			var moist = moisture.get_noise_2d(x,y)
			var temp = temperature.get_noise_2d(x,y)
			set_cell(Vector2i(x,y),0,Vector2i(calc_noise(moist,4),calc_noise(temp,4)))
			print(calc_noise(moist,3))
			
func calc_noise(value,offset) -> int:
	var a = round(value*offset)
	if a > 0:
		return a
	else:
		return -a
"

[node name="TileMapLayer" type="TileMapLayer"]
tile_set = SubResource("TileSet_qs2a4")
script = SubResource("GDScript_qdtua")
